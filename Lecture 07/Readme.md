# C++ Programming Topic 07

## Operator Overloading and Friend Classes
Learn about redefining operators for custom classes and using friend classes and functions in C++. The example implementations include complex numbers and `Nvector`.

---

## üìã –ó–∞–¥–∞—á–∏

### –ó–∞–¥–∞—á–∞ 1: –ö–ª–∞—Å `Nvector`

–†–µ–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ –∫–ª–∞—Å `Nvector`, –∫–æ–π—Ç–æ —â–µ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ –∑–∞ —Ä–∞–±–æ—Ç–∞ —Å –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–µ–∫—Ç–æ—Ä–∏. –ü—Ä–µ–¥–µ—Ñ–∏–Ω–∏—Ä–∞–π—Ç–µ —Å–ª–µ–¥–Ω–∏—Ç–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∏:

- **–°—ä–±–∏—Ä–∞–Ω–µ –Ω–∞ –≤–µ–∫—Ç–æ—Ä–∏**: –û–ø–µ—Ä–∞—Ç–æ—Ä `+` –∑–∞ —Å—ä–±–∏—Ä–∞–Ω–µ –Ω–∞ –¥–≤–∞ –≤–µ–∫—Ç–æ—Ä–∞.
- **–ò–∑–≤–∞–∂–¥–∞–Ω–µ –Ω–∞ –≤–µ–∫—Ç–æ—Ä–∏**: –û–ø–µ—Ä–∞—Ç–æ—Ä `-` –∑–∞ –∏–∑–≤–∞–∂–¥–∞–Ω–µ –Ω–∞ –µ–¥–∏–Ω –≤–µ–∫—Ç–æ—Ä –æ—Ç –¥—Ä—É–≥.
- **–£–º–Ω–æ–∂–µ–Ω–∏–µ –Ω–∞ –≤–µ–∫—Ç–æ—Ä —Å—ä—Å —Å–∫–∞–ª–∞—Ä**: –û–ø–µ—Ä–∞—Ç–æ—Ä `*` –∑–∞ —É–º–Ω–æ–∂–∞–≤–∞–Ω–µ –Ω–∞ –≤–µ–∫—Ç–æ—Ä —Å—ä—Å —Å–∫–∞–ª–∞—Ä.
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–ª–∏ –≤–µ–∫—Ç–æ—Ä–∏—Ç–µ —Å–∞ —É—Å–ø–æ—Ä–µ–¥–Ω–∏**: –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ `==` –∏–ª–∏ —Å–ø–µ—Ü–∏–∞–ª–µ–Ω –º–µ—Ç–æ–¥ –∑–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–ª–∏ –¥–≤–∞ –≤–µ–∫—Ç–æ—Ä–∞ —Å–∞ —É—Å–ø–æ—Ä–µ–¥–Ω–∏.
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–ª–∏ –≤–µ–∫—Ç–æ—Ä–∏—Ç–µ —Å–∞ –ø–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä–Ω–∏**: –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ `==` –∏–ª–∏ —Å–ø–µ—Ü–∏–∞–ª–µ–Ω –º–µ—Ç–æ–¥ –∑–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–ª–∏ –¥–≤–∞ –≤–µ–∫—Ç–æ—Ä–∞ —Å–∞ –ø–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä–Ω–∏.
- **–í–∑–∏–º–∞–Ω–µ –Ω–∞ –¥—ä–ª–∂–∏–Ω–∞ –Ω–∞ –≤–µ–∫—Ç–æ—Ä**: –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—è –∫–∞—Ç–æ `length()` –∏–ª–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä –∑–∞ –ø–æ–ª—É—á–∞–≤–∞–Ω–µ –Ω–∞ –¥—ä–ª–∂–∏–Ω–∞—Ç–∞ –Ω–∞ –≤–µ–∫—Ç–æ—Ä–∞.
- **–î–æ—Å—Ç—ä–ø –¥–æ –µ–ª–µ–º–µ–Ω—Ç–∏ –Ω–∞ –≤–µ–∫—Ç–æ—Ä–∞**: –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ `[]` –∑–∞ –¥–æ—Å—Ç—ä–ø –¥–æ –µ–ª–µ–º–µ–Ω—Ç–∏ –Ω–∞ –≤–µ–∫—Ç–æ—Ä–∞.

int main()
{
   Nvector v(4);
   cin >> v;

   Nvector v2(4);
   cin >> v;

   Nvector result = v + v2;

   cout << result << endl;
     
}

–†–µ–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ –∫–ª–∞—Å –¥–≤—É–º–µ—Ä–Ω–∞—Ç–∞ –¥–µ–∫–∞—Ä—Ç–æ–≤–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω–∞ —Å–∏—Å—Ç–µ–º–∞, –∫–æ—è—Ç–æ –ø—Ä–∏–µ–º–∞ –¥–≤–∞ –≤–µ–∫—Ç–æ—Ä–∞ –∫–∞—Ç–æ –±–∞–∑–∏—Å. –†–µ–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ —Å–ª–µ–¥–Ω–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏:

- **–í—Ä—ä—â–∞ –≤–µ–∫—Ç–æ—Ä –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏**: –ü—Ä–µ–æ–±—Ä–∞–∑—É–≤–∞ –ø–æ–¥–∞–¥–µ–Ω–∏—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ –≤ –≤–µ–∫—Ç–æ—Ä –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –±–∞–∑–∏—Å.
- **–ü–æ –ø–æ–¥–∞–¥–µ–Ω –≤–µ–∫—Ç–æ—Ä –≤—Ä—ä—â–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏—Ç–µ –º—É –≤ –±–∞–∑–∏—Å–∞**: –ü—Ä–µ–æ–±—Ä–∞–∑—É–≤–∞ –≤–µ–∫—Ç–æ—Ä –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –±–∞–∑–∏—Å.

### –ü—Ä–∏–º–µ—Ä–µ–Ω –∫–æ–¥:
#include <iostream>
using namespace std;

class Nvector {
    // –ö–ª–∞—Å–æ–≤–∞ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è
    // ...
};

class twoDimCoordSystem {
    // –ö–ª–∞—Å–æ–≤–∞ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è
    // ...
public:
    // –§—É–Ω–∫—Ü–∏–∏ –∑–∞ –ø—Ä–µ–æ–±—Ä–∞–∑—É–≤–∞–Ω–µ
    Nvector getVectorByCoordinates(int x, int y);
    pair<int, int> getCoordinatesByVector(const Nvector& vec);
};

int main() {
    Nvector v(4);
    v[0] = 2;
    v[1] = 1;

    Nvector v2(4);
    v2[0] = 3;
    v2[1] = 1;

    twoDimCoordSystem s(v, v2);

    cout << s.getVectorByCoordinates(7, 4) << endl; // [26, 11]
    cout << s.getCoordinatesByVector(v) << endl;    // [5, -1]

    return 0;
}
## –ö–ª–∞—Å `ComplexNumber`

–†–µ–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ –∫–ª–∞—Å `ComplexNumber`, –∫–æ–π—Ç–æ —â–µ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ –∑–∞ —Ä–∞–±–æ—Ç–∞ —Å –∫–æ–º–ø–ª–µ–∫—Å–Ω–∏ —á–∏—Å–ª–∞. –ü—Ä–µ–¥–µ—Ñ–∏–Ω–∏—Ä–∞–π—Ç–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∏ —Å—ä—Å —Å–ª–µ–¥–Ω–∞—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç:

- **–°—ä–±–∏—Ä–∞–Ω–µ –Ω–∞ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∏ —á–∏—Å–ª–∞**: –û–ø–µ—Ä–∞—Ç–æ—Ä `+` –∑–∞ —Å—ä–±–∏—Ä–∞–Ω–µ –Ω–∞ –¥–≤–µ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∏ —á–∏—Å–ª–∞.
- **–ò–∑–≤–∞–∂–¥–∞–Ω–µ –Ω–∞ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∏ —á–∏—Å–ª–∞**: –û–ø–µ—Ä–∞—Ç–æ—Ä `-` –∑–∞ –∏–∑–≤–∞–∂–¥–∞–Ω–µ –Ω–∞ –µ–¥–Ω–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ —á–∏—Å–ª–æ –æ—Ç –¥—Ä—É–≥–æ.
- **–£–º–Ω–æ–∂–µ–Ω–∏–µ –Ω–∞ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∏ —á–∏—Å–ª–∞**: –û–ø–µ—Ä–∞—Ç–æ—Ä `*` –∑–∞ —É–º–Ω–æ–∂–∞–≤–∞–Ω–µ –Ω–∞ –¥–≤–µ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∏ —á–∏—Å–ª–∞.
- **–î–µ–ª–µ–Ω–∏–µ –Ω–∞ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∏ —á–∏—Å–ª–∞**: –û–ø–µ—Ä–∞—Ç–æ—Ä `/` –∑–∞ –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –µ–¥–Ω–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ —á–∏—Å–ª–æ —Å –¥—Ä—É–≥–æ.
- **–í—Ö–æ–¥ –∏ –∏–∑—Ö–æ–¥ –æ—Ç –ø–æ—Ç–æ—Ü–∏**: –û–ø–µ—Ä–∞—Ç–æ—Ä–∏ `<<` –∏ `>>` –∑–∞ —Ä–∞–±–æ—Ç–∞ —Å –≤—Ö–æ–¥ –∏ –∏–∑—Ö–æ–¥ –Ω–∞ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∏ —á–∏—Å–ª–∞.

### –ü—Ä–∏–º–µ—Ä–µ–Ω –∫–æ–¥:


int main()
{
	ComplexNumber c;
	cin >> c;

	ComplexNumber c2;
	cin >> c2;

	ComplexNumber result = c2 / c;

	cout << result << endl;
}

## –ö–ª–∞—Å `StringPool`

–†–µ–∞–ª–∏–∑–∏—Ä–∞–π—Ç–µ –∫–ª–∞—Å - –º–Ω–æ–∂–µ—Å—Ç–≤–æ (–±–µ–∑ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ) –æ—Ç –¥—É–º–∏, –∫–æ–∏—Ç–æ –º–æ–≥–∞—Ç –¥–∞ —Å—ä–¥—ä—Ä–∂–∞—Ç –º–∞–ª–∫–∏/–≥–ª–∞–≤–Ω–∏ –ª–∞—Ç–∏–Ω—Å–∫–∏ –±—É–∫–≤–∏ –∏ —Ü–∏—Ñ—Ä–∏. –í –∫–æ–ª–µ–∫—Ü–∏—è—Ç–∞ –≤–∏ —Ç—ä—Ä—Å–µ–Ω–µ—Ç–æ —Ç—Ä—è–±–≤–∞ –¥–∞ –µ —Å –ª–æ–≥–∞—Ä–∏—Ç–º–∏—á–Ω–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç. –ü—Ä–µ–¥–µ—Ñ–∏–Ω–∏—Ä–∞–π—Ç–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∏ —Å—ä—Å —Å–ª–µ–¥–Ω–∞—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç:

- **`+=` –∏ `+`**: –°—ä–±–∏—Ä–∞–Ω–µ –Ω–∞ –¥–≤–µ –∫–æ–ª–µ–∫—Ü–∏–∏.
- **`-=` –∏ `-`**: –û—Ç –¥—É–º–∏—Ç–µ –Ω–∞ –ª—è–≤–∞—Ç–∞ –∫–æ–ª–µ–∫—Ü–∏—è, –ø—Ä–µ–º–∞—Ö–Ω–µ—Ç–µ —Ç–µ–∑–∏, –∫–æ–∏—Ç–æ —É—á–∞—Å—Ç–≤–∞—Ç –≤ –¥—è—Å–Ω–∞—Ç–∞.
- **`[]`**: –ü—Ä–∏–µ–º–∞ –¥—É–º–∞ –∏ –≤—Ä—ä—â–∞ –¥–∞–ª–∏ —Å—Ç—Ä–∏–Ω–≥—ä—Ç –µ –≤ –∫–æ–ª–µ–∫—Ü–∏—è—Ç–∞ (–æ—á–∞–∫–≤–∞–º–µ –ª–æ–≥–∞—Ä–∏—Ç–º–∏—á–Ω–æ –≤—Ä–µ–º–µ).
- **`*=`**: –î–æ–±–∞–≤—è–Ω–µ –Ω–∞ –¥—É–º–∞.
- **`/=`**: –ü—Ä–µ–º–∞—Ö–≤–∞–Ω–µ –Ω–∞ –¥—É–º–∞.
- **`<<`**: –ü–æ—Ç–æ–∫ –∑–∞ –∏–∑—Ö–æ–¥. –û—Ç–ø–µ—á–∞—Ç–≤–∞ –≤—Å–∏—á–∫–∏ –¥—É–º–∏ –≤ —Å–æ—Ä—Ç–∏—Ä–∞–Ω –≤–∏–¥.
- **`>>`**: –ü–æ—Ç–æ–∫ –∑–∞ –≤—Ö–æ–¥. –ü—Ä–∏–µ–º–∞ –¥—É–º–∞, –∫–æ—è—Ç–æ –¥–∞ —Å–µ –¥–æ–±–∞–≤–∏ –≤ —Ä–µ—á–Ω–∏–∫–∞.

–í–∞–∂–Ω–æ! –ö–æ–ø–∏—Ä–∞–Ω–µ—Ç–æ –Ω–∞ —Å—Ç—Ä–∏–Ω–≥–æ–≤–µ –µ –±–∞–≤–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è! –ü–æ–º–∏—Å–ª–µ—Ç–µ –∫–∞–∫ –¥–∞ –æ—Ä–≥–∞–Ω–∏–∑–∏—Ä–∞—Ç–µ –¥–∞–Ω–Ω–∏—Ç–µ, –∑–∞ –¥–∞ –∏–º–∞—Ç–µ –ª–æ–≥–∞—Ä–∏—Ç–º–∏—á–Ω–æ —Ç—ä—Ä—Å–µ–Ω–µ –Ω–∞ –¥—É–º–∞ –∏ –ø—Ä–∏ –¥–æ–±–∞–≤—è–Ω–µ –Ω–∞ –Ω–æ–≤–∞ –¥—É–º–∞ –¥–∞ –ø—Ä–∞–≤–∏—Ç–µ –º–∏–Ω–∏–º–∞–ª–µ–Ω –±—Ä–æ–π –∫–æ–ø–∏—Ä–∞–Ω–∏—è –Ω–∞ —Å—Ç—Ä–∏–Ω–≥–æ–≤–µ!


int main()
{
	StringPool dict;
	((dict *= "Ivan") *= "Petur") *= "Alex";
	std::cout << dict << std::endl; // {Alex, Ivan, Petur}
	std::cout << dict["Alex"] << " " << dict["abc"] << std::endl; // 1 0

	StringPool dict2;
	((dict2 *= "Zebra") *= "Alex");

	StringPool result = dict + dict2;
	std::cout << result << std::endl; // {Alex, Ivan, Petur, Zebra}

	StringPool result2 = dict - dict2;
	std::cout << result2 << std::endl; // {Ivan, Petur}

	"NewWOrd" >> result2;
	result2 /= "NonExistingWord";
		std::cout << result2 << std::endl;  //{Ivan, NewWOrd, Petur}
	"Job" >> result2; 
	std::cout << result2 << std::endl;  //{Ivan, Job, NewWOrd, Petur}


}
